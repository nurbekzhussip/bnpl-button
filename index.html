<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@700;900&display=swap"
      rel="stylesheet"
    />
    <style>
      #bnplButton {
        border: none;
        color: #fff;
        cursor: pointer;
        font-family: "Roboto", sans-serif;
        padding: 16px 28px;
        border-radius: 16px;
        background: linear-gradient(
          89.93deg,
          #fc96fc 0.08%,
          #959ef1 46.14%,
          #0dc9d5 99.97%
        );
        box-shadow: 0px 3px 15px 0px rgba(255, 255, 255, 0.64) inset;
        box-shadow: -2px -6px 15px 0px rgba(0, 0, 0, 0.15) inset;
      }

      #bnplButton > h6 {
        font-size: 25px;
        font-weight: 700;
        line-height: 20px;
        margin: 0;
        margin-bottom: 10px;
      }
      #bnplButton > p {
        font-size: 22px;
        font-weight: 500;
        line-height: 20px;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <h1>version: 1.0.1</h1>
    <button id="bnplButton" data-value="20000"></button>

    <script type="text/javascript">
        console.log('1.0.1')
        const button = document.getElementById("bnplButton");
        const dataValue = button.getAttribute("data-value");
        const value = Number(dataValue);

        if (value < 200000) {
          button.style.display = "block";
          const payment = Math.ceil(value / 4);

          const moneyFormatter = new Intl.NumberFormat("ru-RU", {
            style: "currency",
            currency: "KZT",
            currencyDisplay: "narrowSymbol",
            minimumFractionDigits: 0,
            maximumFractionDigits: 2,
          });

          button.innerHTML = `
          <h6>Рассрочка 0-0-4</h6>
          <p>${moneyFormatter.format(payment)} х 4 мес</p>
        `;
        } else {
          button.style.display = "none";
        }
        
        alert(1)

        window.onload = function(){
          alert(2)
        }

        document.addEventListener("DOMContentLoaded", ()=>{
          alert(3)
        });

        if (document.readyState != 'loading') {
          alert(4)
        }
    </script>
  </body>
</html>
